---
title: "Travailler efficacement avec les dates dans R grâce à lubridate"
date: "2025-01-09"
author: "Léonie Fauvre"
tags:
  - Newsletter
  - Initiation
categories:
  - Newsletter
---

## Introduction

La manipulation de dates est souvent fastidieuse en R : formatages différents, fuseaux horaires, calculs de durées complexes… Le package `lubridate` simplifie grandement ces opérations en rendant le code plus lisible et plus robuste.

## Avantages de lubridate

1.  **Lisibilité accrue** : les fonctions utilisent des noms explicites comme ymd() (year-month-day) ou mdy() (month-day-year).
2.  **Robustesse** : pas besoin de jongler avec les formats compliqués de as.Date() ou strptime(). 3. Flexibilité : il gère automatiquement les heures, minutes, secondes, et les fuseaux horaires.
3.  **Calculs simples** : additionner ou soustraire des jours, comparer des durées, obtenir le début ou la fin d’une période se fait en une seule commande.

## Fonctions principales les plus utilisées

### 1. Conversion et parsing de dates

-   ymd("2023-09-10") → crée une date à partir d’un format année-mois-jour.
-   dmy("10-09-2023") → jour-mois-année.
-   mdy("09/10/2023") → mois-jour-année.
-   Idem avec ymd_hms("2023-09-10 15:30:45") pour inclure l’heure.

### 2. Extraction de composantes

-   year(date) → année.
-   month(date, label = TRUE) → mois (sous forme de texte si label=TRUE).
-   day(date), wday(date, label = TRUE) → jour du mois ou jour de la semaine.
-   hour(), minute(), second() pour l’horaire.

### 3. Calculs sur les dates

-   date + days(10) → ajoute 10 jours.
-   date - months(1) → retire 1 mois.
-   interval(start, end) → définit une période.
-   as.duration() ou as.period() pour transformer un intervalle en durée.

### 4. Opérations courantes pour le travail en séries temporelles

-   **Créer une séquence régulière** : seq(from = ymd("2023-01-01"), by = "1 month", length.out = 12) → génère 12 dates mensuelles.

-   **Aligner sur le début ou la fin d’une période** : floor_date(date, "month") → premier jour du mois. ceiling_date(date, "quarter") → premier jour du trimestre suivant. round_date(date, "week") → arrondi à la semaine la plus proche.

-   **Découper une série temporelle en intervalles fixes** : cut_date \<- floor_date(dates, "quarter") → utile pour grouper des observations par mois, trimestre, année.

-   **Obtenir la date courante ou relative** : today() → date du jour. now() → date + heure actuelle. rollback(date) → fin du mois précédent.

## Conclusion

Avec lubridate, les dates deviennent faciles à manipuler et à lire : au lieu de lignes complexes de code, on utilise des fonctions au nom intuitif. Cela réduit les erreurs de calculs temporels et permet de gagner en productivité, que ce soit pour gérer des échéances, analyser des séries temporelles ou produire des rapports périodiques.
